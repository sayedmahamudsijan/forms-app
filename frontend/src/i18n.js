import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      appName: 'Forms App',
      home: {
        title: 'Home',
        titlePage: 'Home',
        searchLabel: 'Search Templates',
        searchPlaceholder: 'Search templates by keyword or tag',
        searchButton: 'Search',
        search: 'Search',
        view: 'View',
        latestTemplates: 'Latest Templates',
        topTemplates: 'Top Templates',
        myTemplates: 'My Templates',
        tags: 'Tags',
        noTemplates: 'No templates available',
        noMyTemplates: "You haven't created any templates yet",
        noTopTemplates: 'No popular templates available',
        by: 'By',
        unknown: 'Unknown',
        viewTemplate: 'View template {title}',
        viewDisabled: 'View (Disabled)',
        templateImage: 'Image for template {title}',
        loadError: 'Failed to load templates',
        unauthorized: 'Please log in to access your templates',
        forbidden: 'You do not have permission to view these templates',
        serverError: 'Server error occurred. Please try again later',
        serverDown: 'The server is temporarily unavailable. Please try again later.',
        deleteError: 'Failed to delete template. Please try again',
        invalidTemplateId: 'Invalid template ID',
        retry: 'Retry',
      },
      login: {
        title: 'Log In',
        titlePage: 'Log In',
        email_label: 'Email',
        email_required: 'Email is required',
        email_invalid: 'Invalid email format',
        password_label: 'Password',
        password_required: 'Password is required',
        password_minLength: 'Password must be at least 6 characters',
        submit_label: 'Log In',
        submitting: 'Logging in...',
        register_link: 'Need an account? Register',
        retry: 'Retry',
      },
      register: {
        title: 'Register',
        titlePage: 'Register',
        name_label: 'Name',
        name_required: 'Name is required',
        name_minLength: 'Name must be at least 2 characters',
        email_label: 'Email',
        email_required: 'Email is required',
        email_invalid: 'Invalid email format',
        password_label: 'Password',
        password_required: 'Password is required',
        password_minLength: 'Password must be at least 6 characters',
        password_pattern: 'Password must include at least one uppercase letter, one lowercase letter, and one number',
        submit_label: 'Register',
        submitting: 'Registering...',
        login_link: 'Already have an account? Log In',
        retry: 'Retry',
        success: 'Registration successful! Redirecting to home...',
      },
      profile: {
        title: 'Your Profile',
        titlePage: 'Your Profile',
        tabs_label: 'Profile Navigation',
        templates_tab: 'Templates',
        forms_tab: 'Forms',
        templates_heading: 'Your Templates',
        forms_heading: 'Your Forms',
        create_template_link: 'Create New Template',
        no_templates: 'No templates created yet',
        no_forms: 'No forms submitted yet',
        noFormsFound: 'No forms found for your account',
        forms_list_label: 'List of submitted forms',
        view_form_link: 'View form {title} submitted on {date}',
        form_submitted: 'Form for {title} submitted on {date}',
        untitled_form: 'Untitled Form',
        confirm_delete_template: 'Are you sure you want to delete this template?',
        delete_success: 'Template deleted successfully',
        delete_error: 'Failed to delete template',
        load_error: 'Failed to load profile data',
        unauthorized: 'Please log in to view your profile',
        login_required: 'You must be logged in to view this page',
        login: 'Log In',
        retry: 'Retry',
        dismiss: 'Dismiss',
        updateProfile: 'Update Profile',
        update: 'Update',
        name: 'Name',
        email: 'Email',
        namePlaceholder: 'Enter your name',
        emailPlaceholder: 'Enter your email',
        nameRequired: 'Name is required',
        emailInvalid: 'Invalid email format',
        invalidTemplateId: 'Invalid template ID',
        unknownForm: 'Unknown Form',
        unknownQuestion: 'Unknown Question',
        answers: 'Answers',
        answer: '{question}: {value}',
      },
      search: {
        title: 'Search Results for "{title}"',
        titlePage: 'Search Results',
        empty_query: 'No Query Optic',
        loading: 'Loading search results...',
        no_results: 'No templates found for the search query',
        load_error: 'Failed to load search results',
        unauthorized: 'Please log in to access all templates',
        retry: 'Retry',
        invalidTemplateId: 'Invalid template ID detected',
      },
      templatePage: {
        title: 'Template: {title}',
        titlePage: 'Template',
        tabs_label: 'Template Navigation',
        settings: 'Settings',
        questions: 'Questions',
        results: 'Results',
        isPublic: 'Is Public',
        createdBy: 'Created By',
        topic: 'Topic',
        tags: 'Tags',
        yes: 'Yes',
        no: 'No',
        unknown: 'Unknown',
        loading: 'Loading template...',
        notFound: 'Template not found',
        invalidId: 'Invalid template ID',
        loadTemplateError: 'Failed to load template',
        loadResultsError: 'Failed to load results',
        likeError: 'Failed to like/unlike template',
        deleteError: 'Failed to delete template',
        noPermission: 'You do not have permission to fill this form',
        loginRequired: 'Please log in to fill this form',
        login: 'Log In',
        like: 'Like',
        unlike: 'Unlike',
        edit: 'Edit',
        delete: 'Delete',
        noResults: 'No form submissions yet',
        noQuestions: 'No questions available for this template',
        resultsList: 'List of form submissions',
        submittedOn: 'Submitted on {date}',
        unknownQuestion: 'Unknown Question',
        confirmDelete: 'Are you sure you want to delete this template?',
        retry: 'Retry',
        formSubmitSuccess: 'Form submitted successfully!',
        formSubmitError: 'Failed to submit form. Please try again.',
        rateLimit: 'Too many requests. Please try again later.',
        forbidden: 'You do not have permission to view this template or its results',
        serverError: 'Server error. Please try again later.',
        imageAlt: 'Image for template {title}',
        options: 'Options',
        string: 'Short Text',
        text: 'Long Text',
        integer: 'Number',
        checkbox: 'Checkbox',
        multiple_choice: 'Multiple Choice',
        dropdown: 'Dropdown',
        linear_scale: 'Linear Scale',
        date: 'Date',
        time: 'Time',
        attachment: 'Attachment',
        viewAttachment: 'View Attachment',
        required: 'Required',
        optional: 'Optional',
      },
      createTemplate: {
        title: 'Create Template',
        titlePage: 'Create Template',
        titleLabel: 'Title',
        titlePlaceholder: 'Enter template title',
        descriptionLabel: 'Description',
        descriptionPlaceholder: 'Enter template description',
        questionDescription: 'Description', // Added for template description label
        questionDescriptionPlaceholder: 'Enter template description', // Added for template description placeholder
        isPublic: 'Make this template public',
        topicLabel: 'Topic',
        selectTopic: 'Select a topic',
        noTopics: 'No topics available',
        noTopicsMessage: 'No topics available. Create one in the admin panel.',
        adminPanel: 'Admin Panel',
        tagsLabel: 'Tags',
        tagsPlaceholder: 'Select tags',
        permissionsLabel: 'Share with users',
        permissionsPlaceholder: 'Select users to share with',
        questionsLabel: 'Questions',
        string: 'Short Text',
        text: 'Long Text',
        integer: 'Number',
        checkbox: 'Checkbox',
        multiple_choice: 'Multiple Choice',
        dropdown: 'Dropdown',
        linear_scale: 'Linear Scale',
        date: 'Date',
        time: 'Time',
        questionTitle: 'Enter question title',
        required: 'Required',
        optional: 'Optional',
        optionsLabel: 'Options (comma-separated)',
        optionsPlaceholder: 'e.g., Option 1, Option 2, Option 3',
        minLabel: 'Minimum Value',
        maxLabel: 'Maximum Value',
        minLabelText: 'Minimum Label',
        maxLabelText: 'Maximum Label',
        minLabelPlaceholder: 'e.g., Low',
        maxLabelPlaceholder: 'e.g., High',
        addQuestion: 'Add Question',
        remove: 'Remove',
        submit: 'Create Template',
        submitting: 'Creating...',
        retry: 'Retry',
        loginRequired: 'Please log in to create a template',
        noTopicsAvailable: 'No topics available to create a template',
        unauthorized: 'You are not authorized to perform this action',
        loadError: 'Failed to load data. Please try again.',
        titleRequired: 'Title is required',
        topicRequired: 'A valid topic is required',
        questionsRequired: 'At least one valid question is required',
        optionsRequired: 'At least two options are required for multiple choice or dropdown',
        scaleInvalid: 'Invalid scale range (min must be less than max)',
        invalidData: 'Invalid form data provided',
        submitError: 'Failed to create template. Please try again.',
        invalidTopicId: 'Invalid topic selected',
        imageLabel: 'Image',
        imagePlaceholder: 'Upload template image',
        imageRequired: 'Image is required',
        attachment: 'Question Attachment',
        attachmentLabel: 'Attachment',
        attachmentSelected: 'Selected: {name}',
        invalidAttachment: 'Invalid attachment type. Use JPEG, PNG, PDF, MP4, DOC, or DOCX.',
        attachmentTooLarge: 'Attachment size must be less than 10MB.',
        viewAttachment: 'View Attachment',
        visibleInResults: 'Visible in Results',
      },
      templateList: {
        title: 'Title',
        titlePage: 'Templates',
        description: 'Description',
        topic: 'Topic',
        public: 'Public',
        yes: 'Yes',
        no: 'No',
        actions: 'Actions',
        actionsFor: 'Actions for {title}',
        edit: 'Edit',
        delete: 'Delete',
        confirmDelete: 'Are you sure you want to delete this template?',
        editTemplate: 'Edit template {title}',
        deleteTemplate: 'Delete template {title}',
        viewTemplate: 'View template {title}',
        unauthorized: 'Unauthorized action',
        deleteError: 'Failed to delete template',
        retry: 'Retry',
        loading: 'Loading...',
        noTemplates: 'No templates available',
        tableLabel: 'Templates table',
        tableCaption: 'List of templates',
        noTopic: 'No topic assigned',
        noAttachments: 'No attachments available',
        invalidTemplateId: 'Invalid template ID',
        attachments: 'Attachments',
        view: 'View',
      },
      form: {
        title: 'Fill Form: {templateTitle}',
        formLabel: 'Form for {templateTitle}',
        inputLabel: 'Input for {title}',
        checkboxLabel: 'Checkbox for {title}',
        selectOption: 'Select an option',
        required: 'This field is required',
        invalidNumber: 'Please enter a valid number',
        noAuth: 'You must be logged in to fill this form',
        unauthorized: 'You are not authorized to fill this form',
        accessDenied: 'You do not have permission to access this form',
        accessError: 'Error accessing form. Please try again.',
        invalidTemplateId: 'Invalid form template',
        noAccess: 'Unable to access form. Please log in.',
        loginLink: 'Log in',
        retry: 'Retry',
        success: 'Form submitted successfully!',
        submitting: 'Submitting...',
        submittedDetails: 'Submission Details',
        user: 'User: {user}',
        date: 'Date: {date}',
        attachment: 'Attachment',
        attachmentSelected: 'Selected: {name}',
        invalidAttachment: 'Invalid attachment type. Use JPEG, PNG, PDF, MP4, DOC, or DOCX.',
        attachmentTooLarge: 'Attachment size must be less than 10MB.',
        viewAttachment: 'View Attachment',
      },
      comments: {
        title: 'Comments',
        titlePage: 'Comments',
        loading: 'Loading comments...',
        fetchError: 'Failed to load comments',
        submitError: 'Failed to submit comment',
        deleteError: 'Failed to delete comment',
        unauthorized: 'You are not authorized to perform this action',
        noComments: 'No comments yet',
        anonymous: 'Anonymous',
        delete: 'Delete',
        deleteConfirm: 'Are you sure you want to delete this comment?',
        loginRequired: 'You must be logged in to comment',
        loginLink: 'Log In',
        formLabel: 'Comment Form',
        inputLabel: 'Comment Input',
        placeholder: 'Write your comment...',
        emptyComment: 'Comment cannot be empty',
        submit: 'Submit Comment',
        submitting: 'Submitting...',
        retry: 'Retry',
        socketError: 'Failed to connect to real-time comments',
        retrySocket: 'Retry socket connection',
      },
      tagCloud: {
        title: 'Popular Tags',
        titlePage: 'Tags',
        label: 'Tag Cloud',
        error: 'Failed to load tags',
        loading: 'Loading tags...',
        retry: 'Retry',
        noTags: 'No tags available',
        tagLink: 'Search for tag {name}',
        serverDown: 'The server is temporarily unavailable. Please try again later.',
      },
      admin: {
        name: 'Name',
        email: 'Email',
        isAdmin: 'Admin Status',
        isBlocked: 'Blocked Status',
        actions: 'Actions',
        title: 'Admin Panel',
        addTopic: 'Add Topic',
        addTopicForm: 'Add Topic Form',
        topicName: 'Topic Name',
        topicRequired: 'Topic name is required',
        topicMaxLength: 'Topic name must be less than 100 characters',
        topicPlaceholder: 'Enter topic name',
        topicInputLabel: 'Topic Name',
        userManagement: 'User Management',
        noUsers: 'No users found',
        retry: 'Retry',
        submitting: 'Submitting',
        loading: 'Loading',
        tableLabel: 'Users Table',
        tableCaption: 'List of users with their details and actions',
        prevPage: 'Previous Page',
        nextPage: 'Next Page',
        page: 'Page {{page}} of {{totalPages}}',
        toggleAdmin: 'Toggle admin status for {{name}}',
        toggleBlocked: 'Toggle blocked status for {{name}}',
        actionsFor: 'Actions for {{name}}',
        delete: 'Delete',
        deleteUser: 'Delete user {{name}}',
        confirmDelete: 'Are you sure you want to delete user {{name}}?',
        unauthorized: 'Unauthorized access',
        rateLimit: 'Rate limit exceeded',
        fetchError: 'Failed to fetch users',
        topicSuccess: 'Topic added successfully',
        topicConflict: 'Topic already exists',
        topicError: 'Failed to add topic',
        updateSuccess: 'User updated successfully',
        updateError: 'Failed to update user',
        deleteSuccess: 'User deleted successfully',
        deleteError: 'Failed to delete user',
        confirmSelfAdminRemoval: 'Are you sure you want to remove your own admin status?',
        users_heading: 'Users',
        user_id: 'ID',
        user_name: 'Name',
        user_email: 'Email',
        user_role: 'Role',
        user_actions: 'Actions',
        delete_user: 'Delete User',
        delete_user_confirm: 'Are you sure you want to delete this user?',
        delete_user_success: 'User deleted successfully',
        delete_user_error: 'Failed to delete user',
        no_users: 'No users available',
        load_users_error: 'Failed to load users'
      },
      templateForm: {
        title: 'Edit Template',
        titlePage: 'Edit Template',
        image_label: 'Image',
        image_required: 'Image is required',
        topic_label: 'Topic',
        topic_required: 'Topic is required',
        is_public: 'Public',
        questions: 'Questions',
        question_label: 'Question {index}',
        add_question: 'Add Question',
        remove_question: 'Remove Question',
        submit_label: 'Save Template',
        submitting: 'Saving...',
        success: 'Template saved successfully',
        error: 'Failed to save template',
        retry: 'Retry',
        attachment: 'Question Attachment',
        attachmentSelected: 'Selected: {name}',
        invalidAttachment: 'Invalid attachment type. Use JPEG, PNG, PDF, MP4, DOC, or DOCX.',
        attachmentTooLarge: 'Attachment size must be less than 10MB.',
        viewAttachment: 'View Attachment',
        state: 'Question State',
        required: 'Required',
        optional: 'Optional',
      },
      auth: {
        loginSuccess: 'Logged in successfully',
        loginFailed: 'Failed to log in',
        registerSuccess: 'Registered successfully',
        registerFailed: 'Failed to register',
        updateSuccess: 'Profile updated successfully',
        updateFailed: 'Failed to update profile',
        refreshFailed: 'Failed to refresh token',
        noToken: 'No valid token received',
        unauthorized: 'Please log in to continue',
        invalidToken: 'Invalid token',
        fetchError: 'Failed to fetch user data',
        invalidCredentials: 'Invalid email or password',
        emailExists: 'Email already exists',
        retry: 'Retry',
      },
      themeProvider: {
        storageError: 'Failed to save theme settings',
        themeChanged: 'Theme changed to {theme}',
        retry: 'Retry',
        loading: 'Loading theme...',
        dismiss: 'Dismiss',
      },
      header: {
        appName: 'Forms App',
        navbar_label: 'Main Navigation',
        home: 'Home',
        profile: 'Profile',
        admin: 'Admin',
        search_form_label: 'Search Templates',
        search_placeholder: 'Search templates...',
        search_label: 'Search Input',
        search_button_label: 'Search Button',
        search: 'Search',
        search_empty: 'Please enter a search query',
        language_label: 'Language: {lang}',
        select_english: 'Select English',
        select_spanish: 'Select Spanish',
        theme_label: 'Switch to {theme} Theme',
        toggle_theme: 'Theme',
        theme: {
          light: 'Light',
          dark: 'Dark',
        },
        logout_label: 'Log Out',
        logout: 'Log Out',
        confirm_logout: 'Are you sure you want to log out?',
        logout_success: 'Logged out successfully',
        login_label: 'Log In',
        login: 'Log In',
        register_label: 'Register',
        register: 'Register',
        createTemplate: 'Create Template',
      },
      app: {
        loading: 'Loading application...',
        error: 'Something went wrong',
        errorMessage: 'An unexpected error occurred. Please try again later.',
        loadingAuth: 'Loading authentication...',
        loadingPage: 'Loading page...',
      },
    },
  },
  es: {
    translation: {
      appName: 'Aplicación de Formularios',
      home: {
        title: 'Inicio',
        titlePage: 'Inicio',
        searchLabel: 'Buscar Plantillas',
        searchPlaceholder: 'Buscar plantillas por palabra clave o etiqueta',
        searchButton: 'Buscar',
        search: 'Buscar',
        view: 'Ver',
        latestTemplates: 'Últimas Plantillas',
        topTemplates: 'Plantillas Populares',
        myTemplates: 'Mis Plantillas',
        tags: 'Etiquetas',
        noTemplates: 'No hay plantillas disponibles',
        noMyTemplates: 'Aún no has creado ninguna plantilla',
        noTopTemplates: 'No hay plantillas populares disponibles',
        by: 'Por',
        unknown: 'Desconocido',
        viewTemplate: 'Ver plantilla {title}',
        viewDisabled: 'Ver (Desactivado)',
        templateImage: 'Imagen para la plantilla {title}',
        loadError: 'Error al cargar plantillas',
        unauthorized: 'Por favor inicia sesión para acceder a tus plantillas',
        forbidden: 'No tienes permiso para ver estas plantillas',
        serverError: 'Error del servidor. Por favor intenta de nuevo más tarde',
        serverDown: 'El servidor no está disponible temporalmente. Por favor intenta de nuevo más tarde.',
        deleteError: 'Error al eliminar la plantilla. Por favor intenta de nuevo',
        invalidTemplateId: 'ID de plantilla inválido',
        retry: 'Reintentar',
      },
      login: {
        title: 'Iniciar Sesión',
        titlePage: 'Iniciar Sesión',
        email_label: 'Correo Electrónico',
        email_required: 'El correo es obligatorio',
        email_invalid: 'Formato de correo inválido',
        password_label: 'Contraseña',
        password_required: 'La contraseña es obligatoria',
        password_minLength: 'La contraseña debe tener al menos 6 caracteres',
        submit_label: 'Iniciar Sesión',
        submitting: 'Iniciando sesión...',
        register_link: '¿Necesitas una cuenta? Regístrate',
        retry: 'Reintentar',
      },
      register: {
        title: 'Registrarse',
        titlePage: 'Registrarse',
        name_label: 'Nombre',
        name_required: 'El nombre es obligatorio',
        name_minLength: 'El nombre debe tener al menos 2 caracteres',
        email_label: 'Correo Electrónico',
        email_required: 'El correo es obligatorio',
        email_invalid: 'Formato de correo inválido',
        password_label: 'Contraseña',
        password_required: 'La contraseña es obligatoria',
        password_minLength: 'La contraseña debe tener al menos 6 caracteres',
        password_pattern: 'La contraseña debe incluir al menos una letra mayúscula, una minúscula y un número',
        submit_label: 'Registrarse',
        submitting: 'Registrando...',
        login_link: '¿Ya tienes una cuenta? Inicia Sesión',
        retry: 'Reintentar',
        success: '¡Registro exitoso! Redirigiendo al inicio...',
      },
      profile: {
        title: 'Tu Perfil',
        titlePage: 'Tu Perfil',
        tabs_label: 'Navegación de Perfil',
        templates_tab: 'Plantillas',
        forms_tab: 'Formularios',
        templates_heading: 'Tus Plantillas',
        forms_heading: 'Tus Formularios',
        create_template_link: 'Crear Nueva Plantilla',
        no_templates: 'Aún no has creado ninguna plantilla',
        no_forms: 'Aún no has enviado ningún formulario',
        noFormsFound: 'No se encontraron formularios para tu cuenta',
        forms_list_label: 'Lista de formularios enviados',
        view_form_link: 'Ver formulario {title} enviado el {date}',
        form_submitted: 'Formulario para {title} enviado el {date}',
        untitled_form: 'Formulario Sin Título',
        confirm_delete_template: '¿Seguro que quieres eliminar esta plantilla?',
        delete_success: 'Plantilla eliminada correctamente',
        delete_error: 'Error al eliminar la plantilla',
        load_error: 'Error al cargar datos del perfil',
        unauthorized: 'Por favor inicia sesión para ver tu perfil',
        login_required: 'Debes iniciar sesión para ver esta página',
        login: 'Iniciar Sesión',
        retry: 'Reintentar',
        dismiss: 'Descartar',
        updateProfile: 'Actualizar Perfil',
        update: 'Actualizar',
        name: 'Nombre',
        email: 'Correo Electrónico',
        namePlaceholder: 'Ingresa tu nombre',
        emailPlaceholder: 'Ingresa tu correo electrónico',
        nameRequired: 'El nombre es obligatorio',
        emailInvalid: 'Formato de correo inválido',
        invalidTemplateId: 'ID de plantilla inválido',
        unknownForm: 'Formulario Desconocido',
        unknownQuestion: 'Pregunta Desconocida',
        answers: 'Respuestas',
        answer: '{question}: {value}',
      },
      search: {
        title: 'Resultados de Búsqueda para "{title}"',
        titlePage: 'Resultados de Búsqueda',
        empty_query: 'Sin Consulta',
        loading: 'Cargando resultados de búsqueda...',
        no_results: 'No se encontraron plantillas para la consulta de búsqueda',
        load_error: 'Error al cargar los resultados de búsqueda',
        unauthorized: 'Por favor inicia sesión para acceder a todas las plantillas',
        retry: 'Reintentar',
        invalidTemplateId: 'ID de plantilla inválido detectado',
      },
      templatePage: {
        title: 'Plantilla: {title}',
        titlePage: 'Plantilla',
        tabs_label: 'Navegación de Plantilla',
        settings: 'Configuración',
        questions: 'Preguntas',
        results: 'Resultados',
        isPublic: 'Es Público',
        createdBy: 'Creado Por',
        topic: 'Tema',
        tags: 'Etiquetas',
        yes: 'Sí',
        no: 'No',
        unknown: 'Desconocido',
        loading: 'Cargando plantilla...',
        notFound: 'Plantilla no encontrada',
        invalidId: 'ID de plantilla inválido',
        loadTemplateError: 'Error al cargar la plantilla',
        loadResultsError: 'Error al cargar los resultados',
        likeError: 'Error al dar me gusta/desmarcar me gusta a la plantilla',
        deleteError: 'Error al eliminar la plantilla',
        noPermission: 'No tienes permiso para llenar este formulario',
        loginRequired: 'Por favor inicia sesión para llenar este formulario',
        login: 'Iniciar Sesión',
        like: 'Me Gusta',
        unlike: 'Desmarcar Me Gusta',
        edit: 'Editar',
        delete: 'Eliminar',
        noResults: 'Aún no hay envíos de formularios',
        noQuestions: 'No hay preguntas disponibles para esta plantilla',
        resultsList: 'Lista de envíos de formularios',
        submittedOn: 'Enviado el {date}',
        unknownQuestion: 'Pregunta Desconocida',
        confirmDelete: '¿Seguro que quieres eliminar esta plantilla?',
        retry: 'Reintentar',
        formSubmitSuccess: '¡Formulario enviado exitosamente!',
        formSubmitError: 'Error al enviar el formulario. Por favor intenta de nuevo.',
        rateLimit: 'Demasiadas solicitudes. Por favor intenta de nuevo más tarde.',
        forbidden: 'No tienes permiso para ver esta plantilla o sus resultados',
        serverError: 'Error del servidor. Por favor intenta de nuevo más tarde.',
        imageAlt: 'Imagen para la plantilla {title}',
        options: 'Opciones',
        string: 'Texto Corto',
        text: 'Texto Largo',
        integer: 'Número',
        checkbox: 'Casilla de Verificación',
        multiple_choice: 'Opción Múltiple',
        dropdown: 'Desplegable',
        linear_scale: 'Escala Lineal',
        date: 'Fecha',
        time: 'Hora',
        attachment: 'Adjunto',
        viewAttachment: 'Ver Adjunto',
        required: 'Obligatorio',
        optional: 'Opcional',
      },
      createTemplate: {
        title: 'Crear Plantilla',
        titlePage: 'Crear Plantilla',
        titleLabel: 'Título',
        titlePlaceholder: 'Ingresa el título de la plantilla',
        descriptionLabel: 'Descripción',
        descriptionPlaceholder: 'Ingresa la descripción de la plantilla',
        questionDescription: 'Descripción', // Added for template description label
        questionDescriptionPlaceholder: 'Ingresa la descripción de la plantilla', // Added for template description placeholder
        isPublic: 'Hacer esta plantilla pública',
        topicLabel: 'Tema',
        selectTopic: 'Selecciona un tema',
        noTopics: 'No hay temas disponibles',
        noTopicsMessage: 'No hay temas disponibles. Crea uno en el panel de administración.',
        adminPanel: 'Panel de Administración',
        tagsLabel: 'Etiquetas',
        tagsPlaceholder: 'Seleccionar etiquetas',
        permissionsLabel: 'Compartir con usuarios',
        permissionsPlaceholder: 'Seleccionar usuarios para compartir',
        questionsLabel: 'Preguntas',
        string: 'Texto Corto',
        text: 'Texto Largo',
        integer: 'Número',
        checkbox: 'Casilla de Verificación',
        multiple_choice: 'Opción Múltiple',
        dropdown: 'Desplegable',
        linear_scale: 'Escala Lineal',
        date: 'Fecha',
        time: 'Hora',
        questionTitle: 'Ingresa el título de la pregunta',
        required: 'Obligatorio',
        optional: 'Opcional',
        optionsLabel: 'Opciones (separadas por comas)',
        optionsPlaceholder: 'ej., Opción 1, Opción 2, Opción 3',
        minLabel: 'Valor Mínimo',
        maxLabel: 'Valor Máximo',
        minLabelText: 'Etiqueta Mínima',
        maxLabelText: 'Etiqueta Máxima',
        minLabelPlaceholder: 'ej., Bajo',
        maxLabelPlaceholder: 'ej., Alto',
        addQuestion: 'Agregar Pregunta',
        remove: 'Eliminar',
        submit: 'Crear Plantilla',
        submitting: 'Creando...',
        retry: 'Reintentar',
        loginRequired: 'Por favor inicia sesión para crear una plantilla',
        noTopicsAvailable: 'No hay temas disponibles para crear una plantilla',
        unauthorized: 'No estás autorizado para realizar esta acción',
        loadError: 'Error al cargar datos. Por favor intenta de nuevo.',
        titleRequired: 'El título es obligatorio',
        topicRequired: 'Se requiere un tema válido',
        questionsRequired: 'Se requiere al menos una pregunta válida',
        optionsRequired: 'Se requieren al menos dos opciones para opción múltiple o desplegable',
        scaleInvalid: 'Rango de escala inválido (mínimo debe ser menor que máximo)',
        invalidData: 'Datos de formulario inválidos proporcionados',
        submitError: 'Error al crear la plantilla. Por favor intenta de nuevo.',
        invalidTopicId: 'Tema seleccionado inválido',
        imageLabel: 'Imagen',
        imagePlaceholder: 'Subir imagen de la plantilla',
        imageRequired: 'La imagen es obligatoria',
        attachment: 'Adjunto de Pregunta',
        attachmentLabel: 'Adjunto',
        attachmentSelected: 'Seleccionado: {name}',
        invalidAttachment: 'Tipo de adjunto no válido. Usa JPEG, PNG, PDF, MP4, DOC o DOCX.',
        attachmentTooLarge: 'El tamaño del adjunto debe ser menor a 10MB.',
        viewAttachment: 'Ver Adjunto',
        visibleInResults: 'Visible en Resultados',
      },
      templateList: {
        title: 'Título',
        titlePage: 'Plantillas',
        description: 'Descripción',
        topic: 'Tema',
        public: 'Público',
        yes: 'Sí',
        no: 'No',
        actions: 'Acciones',
        actionsFor: 'Acciones para {title}',
        edit: 'Editar',
        delete: 'Eliminar',
        confirmDelete: '¿Seguro que quieres eliminar esta plantilla?',
        editTemplate: 'Editar plantilla {title}',
        deleteTemplate: 'Eliminar plantilla {title}',
        viewTemplate: 'Ver plantilla {title}',
        unauthorized: 'Acción no autorizada',
        deleteError: 'Error al eliminar la plantilla',
        retry: 'Reintentar',
        loading: 'Cargando...',
        noTemplates: 'No hay plantillas disponibles',
        tableLabel: 'Tabla de plantillas',
        tableCaption: 'Lista de plantillas',
        noTopic: 'Sin tema asignado',
        noAttachments: 'No hay adjuntos disponibles',
        invalidTemplateId: 'ID de plantilla inválido',
        attachments: 'Adjuntos',
        view: 'Ver',
      },
      form: {
        title: 'Completar Formulario: {templateTitle}',
        formLabel: 'Formulario para {templateTitle}',
        inputLabel: 'Entrada para {title}',
        checkboxLabel: 'Casilla para {title}',
        selectOption: 'Selecciona una opción',
        required: 'Este campo es obligatorio',
        invalidNumber: 'Por favor ingresa un número válido',
        noAuth: 'Debes iniciar sesión para completar este formulario',
        unauthorized: 'No estás autorizado para completar este formulario',
        accessDenied: 'No tienes permiso para acceder a este formulario',
        accessError: 'Error al acceder al formulario. Por favor intenta de nuevo.',
        invalidTemplateId: 'Plantilla de formulario inválida',
        noAccess: 'No se puede acceder al formulario. Por favor inicia sesión.',
        loginLink: 'Iniciar sesión',
        retry: 'Reintentar',
        success: '¡Formulario enviado exitosamente!',
        submitting: 'Enviando...',
        submittedDetails: 'Detalles de Envío',
        user: 'Usuario: {user}',
        date: 'Fecha: {date}',
        attachment: 'Adjunto',
        attachmentSelected: 'Seleccionado: {name}',
        invalidAttachment: 'Tipo de adjunto no válido. Usa JPEG, PNG, PDF, MP4, DOC o DOCX.',
        attachmentTooLarge: 'El tamaño del adjunto debe ser menor a 10MB.',
        viewAttachment: 'Ver Adjunto',
      },
      comments: {
        title: 'Comentarios',
        titlePage: 'Comentarios',
        loading: 'Cargando comentarios...',
        fetchError: 'Error al cargar comentarios',
        submitError: 'Error al enviar comentario',
        deleteError: 'Error al eliminar comentario',
        unauthorized: 'No estás autorizado para realizar esta acción',
        noComments: 'Aún no hay comentarios',
        anonymous: 'Anónimo',
        delete: 'Eliminar',
        deleteConfirm: '¿Seguro que quieres eliminar este comentario?',
        loginRequired: 'Debes iniciar sesión para comentar',
        loginLink: 'Iniciar Sesión',
        formLabel: 'Formulario de Comentario',
        inputLabel: 'Entrada de Comentario',
        placeholder: 'Escribe tu comentario...',
        emptyComment: 'El comentario no puede estar vacío',
        submit: 'Enviar Comentario',
        submitting: 'Enviando...',
        retry: 'Reintentar',
        socketError: 'Error al conectar con comentarios en tiempo real',
        retrySocket: 'Reintentar conexión de socket',
      },
      tagCloud: {
        title: 'Etiquetas Populares',
        titlePage: 'Etiquetas',
        label: 'Nube de Etiquetas',
        error: 'Error al cargar etiquetas',
        loading: 'Cargando etiquetas...',
        retry: 'Reintentar',
        noTags: 'No hay etiquetas disponibles',
        tagLink: 'Buscar etiqueta {name}',
        serverDown: 'El servidor no está disponible temporalmente. Por favor intenta de nuevo más tarde.',
      },
      admin: {
        name: 'Nombre',
        email: 'Correo',
        isAdmin: 'Estado de Administrador',
        isBlocked: 'Estado de Bloqueado',
        actions: 'Acciones',
        title: 'Panel de Administración',
        addTopic: 'Agregar Tema',
        addTopicForm: 'Formulario para Agregar Tema',
        topicName: 'Nombre del Tema',
        topicRequired: 'El nombre del tema es obligatorio',
        topicMaxLength: 'El nombre del tema debe tener menos de 100 caracteres',
        topicPlaceholder: 'Ingresa el nombre del tema',
        topicInputLabel: 'Nombre del Tema',
        userManagement: 'Gestión de Usuarios',
        noUsers: 'No se encontraron usuarios',
        retry: 'Reintentar',
        submitting: 'Enviando',
        loading: 'Cargando',
        tableLabel: 'Tabla de Usuarios',
        tableCaption: 'Lista de usuarios con sus detalles y acciones',
        prevPage: 'Página Anterior',
        nextPage: 'Página Siguiente',
        page: 'Página {{page}} de {{totalPages}}',
        toggleAdmin: 'Cambiar estado de administrador para {{name}}',
        toggleBlocked: 'Cambiar estado de bloqueado para {{name}}',
        actionsFor: 'Acciones para {{name}}',
        delete: 'Eliminar',
        deleteUser: 'Eliminar usuario {{name}}',
        confirmDelete: '¿Seguro que quieres eliminar al usuario {{name}}?',
        unauthorized: 'Acceso no autorizado',
        rateLimit: 'Límite de solicitudes excedido',
        fetchError: 'Error al obtener usuarios',
        topicSuccess: 'Tema agregado correctamente',
        topicConflict: 'El tema ya existe',
        topicError: 'Error al agregar el tema',
        updateSuccess: 'Usuario actualizado correctamente',
        updateError: 'Error al actualizar usuario',
        deleteSuccess: 'Usuario eliminado correctamente',
        deleteError: 'Error al eliminar usuario',
        confirmSelfAdminRemoval: '¿Estás seguro de que quieres eliminar tu propio estado de administrador?',
        users_heading: 'Usuarios',
        user_id: 'ID',
        user_name: 'Nombre',
        user_email: 'Correo',
        user_role: 'Rol',
        user_actions: 'Acciones',
        delete_user: 'Eliminar Usuario',
        delete_user_confirm: '¿Seguro que quieres eliminar este usuario?',
        delete_user_success: 'Usuario eliminado correctamente',
        delete_user_error: 'Error al eliminar usuario',
        no_users: 'No hay usuarios disponibles',
        load_users_error: 'Error al cargar usuarios'
      },
      templateForm: {
        title: 'Editar Plantilla',
        titlePage: 'Editar Plantilla',
        image_label: 'Imagen',
        image_required: 'La imagen es obligatoria',
        topic_label: 'Tema',
        topic_required: 'El tema es obligatorio',
        is_public: 'Público',
        questions: 'Preguntas',
        question_label: 'Pregunta {index}',
        add_question: 'Agregar Pregunta',
        remove_question: 'Eliminar Pregunta',
        submit_label: 'Guardar Plantilla',
        submitting: 'Guardando...',
        success: 'Plantilla guardada correctamente',
        error: 'Error al guardar la plantilla',
        retry: 'Reintentar',
        attachment: 'Adjunto de Pregunta',
        attachmentSelected: 'Seleccionado: {name}',
        invalidAttachment: 'Tipo de adjunto no válido. Usa JPEG, PNG, PDF, MP4, DOC o DOCX.',
        attachmentTooLarge: 'El tamaño del adjunto debe be menor a 10MB.',
        viewAttachment: 'Ver Adjunto',
        state: 'Estado de la Pregunta',
        required: 'Obligatorio',
        optional: 'Opcional',
      },
      auth: {
        loginSuccess: 'Inicio de sesión exitoso',
        loginFailed: 'Error al iniciar sesión',
        registerSuccess: 'Registro exitoso',
        registerFailed: 'Error al registrar',
        updateSuccess: 'Perfil actualizado correctamente',
        updateFailed: 'Error al actualizar el perfil',
        refreshFailed: 'Error al renovar el token',
        noToken: 'No se recibió un token válido',
        unauthorized: 'Por favor inicia sesión para continuar',
        invalidToken: 'Token inválido',
        fetchError: 'Error al obtener datos del usuario',
        invalidCredentials: 'Correo o contraseña inválidos',
        emailExists: 'El correo ya existe',
        retry: 'Reintentar',
      },
      themeProvider: {
        storageError: 'Error al guardar la configuración del tema',
        themeChanged: 'Tema cambiado a {theme}',
        retry: 'Reintentar',
        loading: 'Cargando tema...',
        dismiss: 'Descartar',
      },
      header: {
        appName: 'Aplicación de Formularios',
        navbar_label: 'Navegación Principal',
        home: 'Inicio',
        profile: 'Perfil',
        admin: 'Administrador',
        search_form_label: 'Buscar Plantillas',
        search_placeholder: 'Buscar plantillas...',
        search_label: 'Entrada de Búsqueda',
        search_button_label: 'Botón de Búsqueda',
        search: 'Buscar',
        search_empty: 'Por favor ingresa una consulta de búsqueda',
        language_label: 'Idioma: {lang}',
        select_english: 'Seleccionar Inglés',
        select_spanish: 'Seleccionar Español',
        theme_label: 'Cambiar al tema {theme}',
        toggle_theme: 'Tema',
        theme: {
          light: 'Claro',
          dark: 'Oscuro',
        },
        logout_label: 'Cerrar Sesión',
        logout: 'Cerrar Sesión',
        confirm_logout: '¿Estás seguro de que quieres cerrar sesión?',
        logout_success: 'Sesión cerrada con éxito',
        login_label: 'Iniciar Sesión',
        login: 'Iniciar Sesión',
        register_label: 'Registrarse',
        register: 'Registrarse',
        createTemplate: 'Crear Plantilla',
      },
      app: {
        loading: 'Cargando la aplicación...',
        error: 'Algo salió mal',
        errorMessage: 'Ocurrió un error inesperado. Por favor, intenta de nuevo más tarde.',
        loadingAuth: 'Cargando autenticación...',
        loadingPage: 'Cargando página...',
      },
    },
  },
};

function initializeI18n() {
  return new Promise((resolve, reject) => {
    i18n
      .use(initReactI18next)
      .init({
        resources,
        lng: localStorage.getItem('language') || 'en',
        fallbackLng: 'en',
        interpolation: {
          escapeValue: false,
        },
        react: {
          useSuspense: false,
        },
        debug: true,
      })
      .then(() => {
        console.log('✅ i18next initialized successfully', {
          timestamp: new Date().toISOString(),
          language: i18n.language,
          availableNamespaces: Object.keys(resources.en),
          templateListKeys: Object.keys(resources.en.translation.templateList),
          createTemplateKeys: Object.keys(resources.en.translation.createTemplate), // Added for debugging
        });
        resolve();
      })
      .catch((error) => {
        console.error('❌ Failed to initialize i18next:', {
          message: error.message,
          stack: error.stack,
          timestamp: new Date().toISOString(),
        });
        reject(error);
      });
  });
}

let retryCount = 0;
const maxRetries = 3;

async function initWithRetry() {
  try {
    await initializeI18n();
  } catch (error) {
    if (retryCount < maxRetries) {
      retryCount++;
      console.log(`✅ Retrying i18n initialization (attempt ${retryCount}/${maxRetries})`, {
        timestamp: new Date().toISOString(),
      });
      await new Promise((resolve) => setTimeout(resolve, 1000));
      return initWithRetry();
    } else {
      console.error('❌ Max retries reached for i18n initialization', {
        timestamp: new Date().toISOString(),
      });
      const root = document.getElementById('root');
      if (root) {
        root.innerHTML = `
          <div style="text-align: center; margin-top: 50px;">
            <h2>Error</h2>
            <p>Failed to initialize application. Please try refreshing the page.</p>
          </div>
        `;
      }
    }
  }
}

initWithRetry();

export default i18n;
